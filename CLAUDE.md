# CLAUDE.md

*Your AI-Powered Marketing Organization*

---

# ğŸš€ **QUICK START**

## Your Marketing Command Center

```bash
/discover           # Discover your marketing organization
/onboard            # Configure your business setup
/cmo                # Strategic marketing planning
/analyst            # Marketing intelligence & optimization
/images             # AI image generation toolkit
/intel              # Social media intelligence collection
```

Your complete AI Marketing Organization powered by Marketing Context Engineering. Get professional marketing strategy and execution through intelligent agent coordination.

**Quick Start Workflow:**
1. `/onboard` â†’ Configure your marketing organization
2. `/cmo` â†’ Plan and execute marketing campaigns
3. `/analyst` â†’ Optimize performance and strategy

---

# ğŸ“‹ **SYSTEM OVERVIEW**

## What This System Does

You have a complete **AI Marketing Organization** with 12 specialized agents that handle:
- **Content Creation**: Blog posts, social media, location pages, email campaigns
- **Strategic Planning**: Monthly calendars, seasonal campaigns, product launches
- **Market Intelligence**: Competitor analysis, performance optimization, market research
- **SEO & Analytics**: Keyword research, content optimization, ROI measurement
- **Email Marketing**: Newsletter campaigns, promotional emails, automation sequences

## How It Works

1. **Launch CMO**: Type `/cmo` to start strategic planning
2. **Natural Conversation**: Describe your marketing needs in plain language
3. **Intelligent Orchestration**: CMO coordinates specialized agents automatically
4. **Content Delivery**: Receive strategic recommendations and generated content
5. **Dashboard Review**: Access your planning dashboard for final approvals

---

# ğŸ› ï¸ **TECHNICAL REFERENCE**

## Essential Commands

```bash
# Primary Interface
/cmo                                         # Launch your marketing co-pilot
/images status                               # Check image generation queue & costs
/intel status                                # Check social intelligence freshness

# Dashboard & Servers
./automation/server_manager.sh start        # Start dashboard servers
./automation/server_manager.sh stop         # Stop all servers
./automation/server_manager.sh status       # Check server health

# Direct Content Submission (Advanced)
./automation/airtable-sync.sh --description "..." --type "..." --priority "..."

# Email Campaign Generation
./automation/email-campaign-generator.sh newsletter --season fall  # Generate newsletter
./automation/email-campaign-generator.sh promotional --offer "20% off"  # Promotional campaign
./automation/email-campaign-generator.sh drip-sequence --service "consulting"  # Automation sequence
```

## System Architecture

| Component | Purpose | Access |
|-----------|---------|--------|
| **CMO Agent** | Strategic planning & orchestration | `/cmo` |
| **Dashboard** | Content review & Airtable sync | http://localhost:3000 |
| **API Server** | Planning data management | http://localhost:3002 |
| **Airtable** | Content management system | Via dashboard |

## Repository Structure

```
content/                        # Generated content ready for publishing
docs/                           # Reference documentation
  â””â”€â”€ intelligence/             # Social media intelligence data
automation/                     # Integration scripts
  â”œâ”€â”€ image-generation/         # AI image generation (~$0.14/image)
  â”œâ”€â”€ intel/                    # Social intelligence collectors & analysis
  â””â”€â”€ airtable-setup/           # Airtable auto-configuration
config/                         # Centralized configuration
  â”œâ”€â”€ brand.json                # Colors, style directives, pillars
  â”œâ”€â”€ partners.json             # Partner accounts and names
  â””â”€â”€ airtable.json             # Field mappings
portal/                         # Partner content review portal
.claude/                        # Agent configurations
  â””â”€â”€ skills/
      â”œâ”€â”€ images/               # /images command - AI image generation toolkit
      â””â”€â”€ social-intel/         # /intel command - Social media intelligence
client-context/                 # Brand-specific content (generated by /onboard)
onboarding/                     # Brand intake materials
expansions/                     # Template examples for partner voices, etc.
factory-visualizer-portable/    # Factorio-style agent activity visualizer
```

---

# ğŸ­ **FACTORY FLOOR VISUALIZER**

A Factorio-style visualization of Claude Code agent activity. Watch your AI sessions come to life as a factory floor with machines, belts, and items.

## Quick Start

```bash
# From your project root:
node factory-visualizer-portable/server.js

# Then open http://localhost:3456
```

## Features

- **Auto-detect**: Automatically finds your Claude Code transcript
- **Live mode**: Watch agents work in real-time
- **Parallel sessions**: Supports multiple concurrent agents
- **Clear & rebuild**: Reset factory and watch it build from new events

## Controls

| Button | Action |
|--------|--------|
| **Auto Live** | Connect to auto-detected transcript |
| **Load Transcript** | Manually load a .jsonl file |
| **Clear** | Wipe factory and watch it rebuild |
| **View** | Reset camera position |

## Machine Types

| Machine | Tool Types |
|---------|-----------|
| Assembler (green) | Write, Edit |
| Lab (blue) | Read, Glob, Grep |
| Refinery (brown) | Bash |
| Radar (gray) | WebFetch, WebSearch |
| Roboport (center) | Orchestrator |

## Portable Package

The `factory-visualizer-portable/` folder is self-contained (22MB) and can be copied to any project:

```bash
cp -r factory-visualizer-portable /path/to/other/project/
cd /path/to/other/project
node factory-visualizer-portable/server.js
```

See `factory-visualizer-portable/README.md` for full documentation.

---

# ğŸ”Œ **INFRASTRUCTURE TOOLS**

## AI Image Generation

Generate brand-aligned images for social posts using Gemini via OpenRouter (~$0.14/image).

```bash
# Check what needs images
npx tsx automation/image-generation/generate-images.ts --status

# Preview generations (no cost)
npx tsx automation/image-generation/generate-images.ts --dry-run

# Generate images for pending posts
npx tsx automation/image-generation/generate-images.ts --limit 5

# View cost report
npx tsx automation/image-generation/generate-images.ts --costs
```

Images are automatically uploaded to Airtable and marked as "AI Generated".

For full command reference, see `/images` skill: `.claude/skills/images/SKILL.md`

## Social Media Intelligence

Collect competitive and industry insights from LinkedIn and Twitter/X to inform content and image generation.

```bash
# Check intelligence freshness
/intel status

# Weekly collection workflow
npx tsx automation/intel/linkedin-collector.ts         # LinkedIn competitor posts
npx tsx automation/intel/twitter-collector.ts           # Twitter/X industry themes
npx tsx automation/intel/visual-analyzer.ts             # Analyze visual patterns
npx tsx automation/intel/synthesize.ts                  # Generate synthesis for image gen
```

Intelligence feeds into image generation prompts via `docs/intelligence/synthesis/image-generation-intel.json`.

For full command reference, see `/intel` skill: `.claude/skills/social-intel/SKILL.md`

## Partner Portal

Web-based content review for partners to approve/edit their posts.

```bash
# Setup
cd portal
npm install
cp .env.example .env.local  # Configure with your values
npm run db:push             # Initialize database
npm run user                # Create admin user

# Run
npm run dev                 # Start at http://localhost:3000
```

## Airtable Setup

Auto-configure your Airtable Content Calendar with the correct schema.

```bash
# Preview schema
npx tsx automation/airtable-setup/setup-base.ts --dry-run

# Create new base (API)
npx tsx automation/airtable-setup/setup-base.ts --token patXXX

# Add to existing base
npx tsx automation/airtable-setup/setup-base.ts --token patXXX --base appXXX

# Create and open in browser
npx tsx automation/airtable-setup/setup-base.ts --token patXXX --open
```

After API setup, configure views with browser automation:
```bash
# Requires: npm install playwright (in automation/airtable-setup/)
npx tsx automation/airtable-setup/browser-setup.ts --base appXXX --table tblXXX

# Guided mode (with manual pauses)
npx tsx automation/airtable-setup/browser-setup.ts --guided

# Manual instructions only
npx tsx automation/airtable-setup/browser-setup.ts --manual
```

Or use the skill: `/airtable-setup`

---

# ğŸ¯ **GETTING STARTED**

## For New Users

1. **Business Onboarding**: Use `/onboard` to configure your complete brand architecture
2. **Strategic Planning**: Use `/cmo` to begin marketing campaign development
3. **Intelligence Analysis**: Use `/analyst` to optimize performance and strategy
4. **System Discovery**: Use `/discover` to explore all capabilities

## For Returning Users

Your marketing organization is ready for strategic operations:
- `/cmo plan January content calendar`
- `/analyst audit our marketing performance`
- `/images status` to check image generation queue
- `/intel status` to check social intelligence freshness
- `/discover` to explore all capabilities

---

# ğŸ“Š **CONTENT OPERATIONS**

## Content Pipeline

```
LOCAL (this project)                    AIRTABLE (external-visible)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ content/social/content-bank.md       â”‚ Content Calendar          â”‚
â”‚ â”œâ”€â”€ Raw themes from calls   â”‚   â†’    â”‚ â”œâ”€â”€ Scheduled posts only â”‚
â”‚ â”œâ”€â”€ Partner voice profiles  â”‚        â”‚ â”œâ”€â”€ Approved copy        â”‚
â”‚ â””â”€â”€ Usage tracking (IDs)    â”‚        â”‚ â””â”€â”€ Status workflow      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key principle:** Keep content development local. Airtable only shows scheduled/active posts.

## Reference Documentation

| Document | Purpose |
|----------|---------|
| **`docs/reference/social-content-rules.md`** | Social content workflow and standards |
| **`.claude/skills/social-content-workflow.md`** | Full workflow skill for content creation |
| `docs/reference/competitive-win-themes.md` | Competitive advantages for positioning |
| `content/social/content-bank.md` | Local content themes & usage tracking |
| `expansions/partner-voice-template/` | Example partner voice profile template |
| `docs/reference/technical/airtable-schema-template.md` | Airtable field reference |

## Quick Reference

**Posting cadence:** Configure per brand and partner in `/onboard`

**Golden rules:** One record = one post | Voice matches account | Content bank first

---

# ğŸ—‚ï¸ **CONTEXT ARCHITECTURE**

**Full Reference:** `docs/reference/CONTEXT-ARCHITECTURE.md`

## Context Layers

| Layer | Location | Purpose |
|-------|----------|---------|
| **1. Central Config** | `CLAUDE.md` | Commands, quick reference |
| **2. Brand Intelligence** | `client-context/` | Brand architecture, voice guides, customer profiles |
| **3. Working Content** | `content/` | Content bank, theme tracking, status |
| **4. Operational Skills** | `.claude/skills/` | Workflows, partner voices |
| **5. Reference Docs** | `docs/reference/` | Guidelines, technical schemas |

## Quick Lookup

| Looking For... | Go To |
|----------------|-------|
| Voice profiles | `client-context/brand/voice-and-tone-guide.md` |
| Partner voice example | `expansions/partner-voice-template/` |
| Social content rules | `docs/reference/social-content-rules.md` |
| Full workflow | `.claude/skills/social-content-workflow.md` |
| Content themes | `content/social/content-bank.md` |
| Win themes | `docs/reference/competitive-win-themes.md` |
| Competitor analysis | `client-context/competitors/differentiation-strategy.md` |
| Image generation | `.claude/skills/images/SKILL.md` |
| Social intelligence | `.claude/skills/social-intel/SKILL.md` |
| Intel synthesis data | `docs/intelligence/synthesis/image-generation-intel.json` |
| Session memory | `docs/intelligence/internal/context-intelligence-ledger.md` |
| Agent visualizer | `factory-visualizer-portable/` |

---

# ğŸ“ **ADDITIONAL RESOURCES**

## Documentation
- **Context Architecture**: `docs/reference/CONTEXT-ARCHITECTURE.md` (complete context map)
- **Strategic Planning**: `docs/strategic-pathways.md`
- **Brand Architecture**: `client-context/` (your configured brand)
- **Content Standards**: `client-context/templates/` (guidelines templates)
- **Technical Reference**: `docs/orchestration-implementation-guide.md`
- **Factory Visualizer**: `factory-visualizer-portable/README.md` (usage & asset reference)

---

# ğŸ”§ **BRAND CONFIGURATION**

This repository is a brand-agnostic template. To configure for your brand:

1. Place brand materials in `onboarding/intake/`
2. Run `/onboard` to generate your brand architecture
3. The system creates brand-specific files in `client-context/` and `config/`
4. Optionally run `/airtable-setup` to configure your Content Calendar
5. Configure `.claude/settings.local.json` with your welcome message (see `CLAUDE.template.md`)

**Brand-specific files (generated by /onboard):**
- `config/brand.json` - Colors, style directives, content pillars
- `config/partners.json` - Partner accounts, names, UI colors
- `config/airtable.json` - Field mappings for Airtable sync
- `client-context/brand/` - Brand architecture, voice guides
- `client-context/business/` - Business information
- `client-context/competitors/` - Competitive analysis
- `client-context/keywords/` - SEO keywords
- `content/social/` - Social content bank
- `content/email/` - Email content
- `.claude/memory/` - Session memory

**Environment variables (see `.env.example`):**
- `AIRTABLE_API_KEY` - Airtable personal access token
- `AIRTABLE_BASE_ID` - Your Content Calendar base
- `AIRTABLE_TWITTER_FOLLOW_TABLE_ID` - Twitter/X follow list table (for `/intel`)
- `OPENROUTER_API_KEY` - For AI image generation

---

*This is your marketing command center. Start with `/onboard` to configure your brand, then use `/cmo` for strategic operations.*
